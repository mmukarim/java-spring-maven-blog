<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: site-head">
  <title>Create Post</title>
</head>

<body>

<header th:replace="layout :: site-header" />

<h1>Create New Post in the Blu Blog</h1>

<form method="post" th:object="${createPostForm}">
  <div><label for="title">Title:</label></div>
  <input id="title" type="text" name="title" th:value="*{title}" />
  <span class="formError" th:if="${#fields.hasErrors('title')}"
                                th:errors="*{title}">Invalid Title</span>

  <div><label for="authorId" th:value="*{title}">Author:</label></div>
  <select th:field="*{authorId}" id="authorId" name="authorId">
    <option value="default">Select an author</option>
    <option th:each="u : ${allUsers}" th:value="${u.id}" th:text="${null != u.fullName ?
						u.fullName : u.username}"/>
  </select>
  
  <div><textarea id="body" name="body" th:value="*{body}" rows = "20" cols = "80" /></div>
  
  <div><input type="submit" value="Create"/></div>
</form>

<footer th:replace="layout :: site-footer" />

</body>

</html>